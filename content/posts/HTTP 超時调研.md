---  
share: true  
title: HTTP 超时调研  
date: 2024-07-08  
tags:  
  - 笔记  
  - 计算机_网络  
  - 完成  
---  
  
#笔记 #计算机/网络  #完成  
  
### 背景  
  
HTTP/2 及之前的版本，所使用的傳輸層協議爲 TCP/IP 協議。已知 TCP 協議爲面向連接、可靠的字節流協議。其有三次握手的過程。亦籠統而言，我們可將其分爲 連接階段 及 數據傳輸階段。  
  
#### TCP 三次握手過程  
TCP 連接的建立遵循三次握手過程，確保雙方通信實體能夠準確連接。該過程包括：  
+ SYN：客戶端發送 SYN 包到服務器，請求建立連接  
+ SYN-ACK：服務器響應一個 SYN-ACK 包，表示同意建立連接  
+ ACK：客戶端發送一個 ACK包，完成連接建立  
  
#### TCP SYN 包重試機制  
TCP 協議實現了一個指數退避算法來處理 SYN 包的重試。默認情況下，TCP SYN 包的重試頻率爲 2的 n 次冪。其 n 指：重試次數 - 1。在大多 LINUX 的配置中其 n 的值爲 6。獲取配置方式：  
```shell  
sysctl net.ipv4.tcp_syn_retries  
```  
  
故其默認的連接超時時間爲 127 秒。   
  
