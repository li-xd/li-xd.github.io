---
layout: post
title: "FAST-CGI 探索 [三]"
author: "xiaodong.li"
---

一个请求之后 PHP如何来处理



```shell
## 还款 APP
curl -X "POST" "http://api.biz.docker/central/user-diversion" \
     -H 'Content-Type: application/json; charset=utf-8' \
     -H 'Cookie: XDEBUG_SESSION=XDEBUG_ECLIPSE' \
     -d $'{
  "newSystemName": "李",
  "from_system": "BIZ",
  "key": "AM_0429558105487_TEST",
  "type": "UserDiversion",
  "applyCode": "202001095419253452669994"
}'

```



使用 tcpdump 监听 nginx 与 php-fpm 的交互内容



```shell
tcpdump tcp port 9000 -w 文件地址
```



使用 白鲨 解析后看到的结果

![markdown/20200525125245.png](https://note.img.lixd.club/markdown/20200525125245.png)



分析 三次握手 及 四次挥手过程

三次握手过程: Flags 变化

![markdown/20200526134150.png](https://note.img.lixd.club/markdown/20200526134150.png)
![markdown/20200526134238.png](https://note.img.lixd.club/markdown/20200526134238.png)
![markdown/20200526134424.png](https://note.img.lixd.club/markdown/20200526134424.png)





