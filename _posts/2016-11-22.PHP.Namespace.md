---
layout: post
title: "PHP.Namespace"
author: "XiaoDong.Li"
---

1. 定义命名空间

    1. 只有三种类型的代码受命名空间的影响: 类, 常量和函数.
    2. 命名空间通过关键字 namespace 来声明. 如果一个文件中包含命名空间, 它必须在其它所有代码之前声明命名空间.
    3. 在声明命名空间之前唯一合法的代码是用于定义源文件编码方式的 declare 语句.所有非 PHP 代码包含空白符都不能出现在命名空间的声明之前.
    4. 同一个命名空间可以定义在多个文件中.即允许将同一个命名空间的内容分割放在不同的文件中.
2. 使用命名空间：基础

    PHP命名空间中元素的三种引用方式:
    1. 非限定名称，或不包含前缀的类名称。
    2. 限定名称，或包含前缀的名称。
    3. 完全限定名称，或包含了全局前缀操作符的名称。

    访问任意全局类，函数或常量，都可以使用完全限定名称，例如 \strlen() 或 \Exception 或 \INI_ALL.
3. namespace关键字和NAMESPACE常量

    1. 常量 NAMESPACE 的值只是包含当前命名空间名称的字符串。在全局的，不包含在任何命名空间中的代码，它包含一个空的字符串。
4. 使用命名空间:别名/导入

    PHP命名空间支持有两种使用别名或导入方式：为类名称使用别名，或为命名空间名称使用别名。
    PHP不支持导入函数或常量。
    在PHP中，别名是通过操作符 use 来实现的。
5. 全局空间

    在名称前面加上前缀 \ 表示该名称是全局空间中的名称，即使该名称位于其它的命名空间中时也是如此。
6. 使用命名空间：后备全局函数/常量

    1. 类名称总是解析到当前命名空间中的名称。因此在访问系统内部或不包含的命名空间中的类名称时，必须使用完全限定名称。
    2. 对于函数和常量来说，如果当前命名空间中不存在该函数或常量，PHP会退而使用全局空间中的函数或常量。
7. 名称解析规则

    名称解析遵循下列规则：
    1. 对完全限定名称的函数，类和常量的调用在编译时解析。
    2. 所有的非限定名称和限定名称（非完全限定名称）根据当前的导入规则在编译时进行转换。
    3. 在命名空间内部，所有的没有根据导入规则转换的限定名称均会在其前面加上当前的命名空间名称。
    4. 非限定类名根据当前的导入规则在编译时转换。
    5. 在命名空间内部，对非限定名称的函数调用是在运行时解析的。 
        1. 在当前命名空间中查找
        2. 尝试查找并调用全局空间中的函数
    6. 在命名空间内部对非限定名称或限定名称类的调用是在运行时解析的。